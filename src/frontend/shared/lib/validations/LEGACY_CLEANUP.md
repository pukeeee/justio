# План очищення застарілого коду (Legacy Cleanup)

У проекті виявлено кілька застарілих модулів, які залишилися від попередніх ітерацій розробки (Supabase, глобальні Zod-схеми). Оскільки проект переходить на **Clean Architecture** з валідацією всередині доменних сутностей, ці файли підлягають видаленню.

## 1. Глобальні схеми валідації (Legacy Zod)
**Шлях:** `src/frontend/shared/lib/validations/schemas.ts`

### Стан:
- Містить Zod-схеми для всіх сутностей.
- Валідація переноситься безпосередньо в **Domain Entities** (`src/backend/domain/entities/`).
- Наразі файл використовується лише як джерело для деяких TypeScript типів.

### Виявлені залежності (що потрібно перенести перед видаленням):
- **`UserRole`**: Використовується в системі прав доступу (`permission-guard.tsx`, `use-permissions.ts`, `permissions.ts`).
  - *Куди перенести:* В `src/backend/domain/value-objects/` (як Enum) або окремий спільний файл типів для фронтенду.
- **`ApiErrorResponse`**: Використовується в обробці помилок (`src/frontend/shared/lib/errors/index.ts`).
  - *Куди перенести:* В `src/frontend/shared/lib/errors/types.ts`.
- **`WorkspaceInvitation`**: Використовується в хелперах.
  - *Куди перенести:* В сутність `Invitation`.

### Дія:
1. Перенести вищезгадані типи в актуальні модулі.
2. Оновити імпорти.
3. Видалити папку `src/frontend/shared/lib/validations/`.

---

## 2. Нагадування про стратегію валідації
- Вся бізнес-валідація має відбуватися в методах `create()` або `update()` доменних сутностей.
- `Zod` може використовуватися на рівні DTO або в самих сутностях для перевірки примітивів, але не повинен бути розкиданий по всьому проекту у вигляді глобальних схем.
